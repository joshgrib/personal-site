<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title><!-- Populated when the page loads --></title>

  <script defer src="/__/firebase/7.13.2/firebase-app.js"></script>
  <script defer src="/__/firebase/init.js"></script>

  <link rel="stylesheet" href="./tailwind.min.css">
</head>
<body class="flex flex-col min-h-screen">
  <!-- Site header -->
  <header
    x-data="header()"
    x-init="document.title = title"
    class="bg-orange-500 font-mono font-bold text-lg text-center"
  >
    <code x-text="title"></code>
  </header>
  <!-- Main body content -->
  <main class="flex-grow bg-gray-100">
    <section class="bg-white mt-16 mx-auto w-64 p-8 shadow-md text-center">
      <header class="text-orange-500 text-lg font-bold">
        Welcome
      </header>
      <main class="py-4">
        <p>
          The plan is to make this a personal and portfolio site but I'm still
          setting it up.
        </p>
      </main>
      <footer x-data="dropdown()" class="bg-gray-200">
        <button
          x-on:click="open"
          x-text="isOpen() ? 'Close' : 'Open'"
          class="text-orange-500"
        >
          Open
        </button>
        <hr>
        <div 
          x-show="isOpen()"
          x-transition:enter="transition ease-out duration-300"
          x-transition:enter-start="opacity-0 transform scale-90"
          x-transition:enter-end="opacity-100 transform scale-100"
          x-transition:leave="transition ease-in duration-300"
          x-transition:leave-start="opacity-100 transform scale-100"
          x-transition:leave-end="opacity-0 transform scale-90"
          x-on:click.away="close"
        >
          <section x-data="portfolio()">
            <ul>
              <template
                x-for="(project, projectIdx) in projects"
                :key="projectIdx"
              >
                <li>
                  <a
                    x-text="project.title"
                    x-bind:href="project.link"
                    class="text-blue-400 hover:underline font-light mono"
                  ></a>
                </li>
              </template>
            </ul>
          </section>
        </div>
      </footer>
    </section>
  </main>
  <!-- Site footer -->
  <footer x-data="footer()" class="px-1 bg-gray-400 font-mono text-sm">
    <code x-text="version"></code>
  </footer>

</body>
<script src="./alpine.min.js"></script>
<script>
  /**
   * Global variables
   */
  const META = {
    version: '0.2.0',
    title: 'josh.software'
  }
  /**
   * Alpine models
   */
  function header() {
    return { title: META.title }
  }
  function portfolio() {
    return {
      projects: [{
        title: 'Github home page',
        link: 'https://github.com/joshgrib'
      }, {
        title: 'Stackoverflow profile',
        link: 'https://stackoverflow.com/users/6046312/josh-g'
      }, {
        title: 'bn-playground',
        link: 'https://github.com/joshgrib/bn-playground'
      }, {
        title: 'sitstuff',
        link: 'https://github.com/joshgrib/sitstuff'
      }, {
        title: 'mealplan-datavis',
        link: 'https://github.com/joshgrib/mealplan-datavis'
      }, {
        title: 'browser-ext',
        link: 'https://github.com/joshgrib/browser-ext'
      }, {
        title: 'small-subreddit-finder',
        link: 'https://github.com/joshgrib/small-subreddit-finder'
      }, {
        title: 'web-op-1',
        link: 'https://web-op-1.web.app/'
      }, {
        title: 'v-minesweeper',
        link: 'https://v-minesweeper.web.app/'
      }, {
        title: 'jakes-books',
        link: 'https://jakes-books-v0.web.app/'
      }]
    }
  }
  function footer() {
    return { version: `v${META.version}` }
  }
  function dropdown() {
    return {
      show: false,
      open() { this.show = true },
      close() { this.show = false },
      isOpen() { return this.show === true },
    }
  }
</script>
</html>
